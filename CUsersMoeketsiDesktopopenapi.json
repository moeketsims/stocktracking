{"openapi":"3.1.0","info":{"title":"Potato Stock Tracking API","description":"Backend API for the Potato Stock Tracking Web Platform","version":"1.0.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/create-test-admin":{"post":{"tags":["Authentication"],"summary":"Create Test Admin","description":"Create a test admin user for development. Email: test@admin.com, Password: password123","operationId":"create_test_admin_api_auth_create_test_admin_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Authenticate user with email and password.","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Sign out the current user.","operationId":"logout_api_auth_logout_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Profile","description":"Get current authenticated user profile.","operationId":"get_current_user_profile_api_auth_me_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token.","operationId":"refresh_token_api_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","title":"Refresh Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/accept-invite":{"post":{"tags":["Authentication"],"summary":"Accept Invite","description":"Accept an invitation and create user account.","operationId":"accept_invite_api_auth_accept_invite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptInviteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/validate-invite/{token}":{"get":{"tags":["Authentication"],"summary":"Validate Invite","description":"Validate an invitation token and return invitation details.","operationId":"validate_invite_api_auth_validate_invite__token__get","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/forgot-password":{"post":{"tags":["Authentication"],"summary":"Forgot Password","description":"Request a password reset email.","operationId":"forgot_password_api_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/reset-password":{"post":{"tags":["Authentication"],"summary":"Reset Password","description":"Reset password using a reset token from email.","operationId":"reset_password_api_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard","description":"Get dashboard data including stats, forecasts, and stock balance.","operationId":"get_dashboard_api_dashboard_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dashboard/today-stats":{"get":{"tags":["Dashboard"],"summary":"Get Today Stats","description":"Get quick stats for today.","operationId":"get_today_stats_api_dashboard_today_stats_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/debug":{"get":{"tags":["Stock Operations"],"summary":"Debug Stock State","description":"Debug endpoint to check actual database state.","operationId":"debug_stock_state_api_stock_debug_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/by-location":{"get":{"tags":["Stock Operations"],"summary":"Get Stock By Location","description":"Get stock overview grouped by location - simplified view for potato tracking.","operationId":"get_stock_by_location_api_stock_by_location_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock":{"get":{"tags":["Stock Operations"],"summary":"Get Stock Overview","description":"Get stock overview for the stock screen.","operationId":"get_stock_overview_api_stock_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StockScreenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/receive":{"post":{"tags":["Stock Operations"],"summary":"Receive Stock","description":"Receive new stock - creates batch and transaction.","operationId":"receive_stock_api_stock_receive_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiveStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/issue":{"post":{"tags":["Stock Operations"],"summary":"Issue Stock","description":"Issue stock - deducts from batch using FIFO automatically.","operationId":"issue_stock_api_stock_issue_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/transfer":{"post":{"tags":["Stock Operations"],"summary":"Transfer Stock","description":"Transfer stock between locations - managers only.","operationId":"transfer_stock_api_stock_transfer_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/waste":{"post":{"tags":["Stock Operations"],"summary":"Record Waste","description":"Record stock waste.","operationId":"record_waste_api_stock_waste_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WasteStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/return":{"post":{"tags":["Stock Operations"],"summary":"Return Stock","description":"Return unused stock - adds back to the most recent batch.","operationId":"return_stock_api_stock_return_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock/balance":{"get":{"tags":["Stock Operations"],"summary":"Get Stock Balance","description":"Get current stock balance.","operationId":"get_stock_balance_api_stock_balance_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/transactions":{"get":{"tags":["Transactions"],"summary":"Get Transactions","description":"Get transaction history with optional type filter.","operationId":"get_transactions_api_transactions_get","parameters":[{"name":"type_filter","in":"query","required":false,"schema":{"anyOf":[{"enum":["all","receive","issue","transfer","waste"],"type":"string"},{"type":"null"}],"default":"all","title":"Type Filter"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/transactions/{transaction_id}":{"get":{"tags":["Transactions"],"summary":"Get Transaction","description":"Get single transaction details.","operationId":"get_transaction_api_transactions__transaction_id__get","parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","title":"Transaction Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/alerts":{"get":{"tags":["Alerts"],"summary":"Get Alerts","description":"Get all active alerts and recently acknowledged ones.","operationId":"get_alerts_api_alerts_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/alerts/acknowledge":{"post":{"tags":["Alerts"],"summary":"Acknowledge Alert","description":"Acknowledge an alert.","operationId":"acknowledge_alert_api_alerts_acknowledge_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcknowledgeAlertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/alerts/summary":{"get":{"tags":["Alerts"],"summary":"Get Alert Summary","description":"Get just the alert counts for dashboard.","operationId":"get_alert_summary_api_alerts_summary_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batches":{"get":{"tags":["Batch Management"],"summary":"Get Batches","description":"Get batches with optional filtering.","operationId":"get_batches_api_batches_get","parameters":[{"name":"filter_type","in":"query","required":false,"schema":{"anyOf":[{"enum":["all","expiring_soon"],"type":"string"},{"type":"null"}],"default":"all","title":"Filter Type"}},{"name":"item_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batches/{batch_id}":{"get":{"tags":["Batch Management"],"summary":"Get Batch","description":"Get single batch details.","operationId":"get_batch_api_batches__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batches/oldest/{item_id}":{"get":{"tags":["Batch Management"],"summary":"Get Oldest Batch","description":"Get oldest batch for FIFO suggestion.","operationId":"get_oldest_batch_api_batches_oldest__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics":{"get":{"tags":["Analytics"],"summary":"Get Analytics","description":"Get usage analytics including trends and patterns.","operationId":"get_analytics_api_analytics_get","parameters":[{"name":"period_days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"default":30,"title":"Period Days"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyticsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/stock-levels":{"get":{"tags":["Analytics"],"summary":"Get Stock Levels","description":"Get current stock levels with bag conversion.","operationId":"get_stock_levels_api_analytics_stock_levels_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/shop-efficiency":{"get":{"tags":["Analytics"],"summary":"Get Shop Efficiency","description":"Get shop efficiency comparison metrics for all locations.","operationId":"get_shop_efficiency_api_analytics_shop_efficiency_get","parameters":[{"name":"period_days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"default":30,"title":"Period Days"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShopEfficiencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/usage-comparison/hourly":{"get":{"tags":["Analytics"],"summary":"Get Hourly Comparison","description":"Get hourly usage comparison: Today vs Yesterday vs Same day last week.","operationId":"get_hourly_comparison_api_analytics_usage_comparison_hourly_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageComparisonResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/usage-comparison/weekly":{"get":{"tags":["Analytics"],"summary":"Get Weekly Comparison","description":"Get weekly usage comparison: This week vs Last week.","operationId":"get_weekly_comparison_api_analytics_usage_comparison_weekly_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageComparisonResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analytics/usage-comparison/monthly":{"get":{"tags":["Analytics"],"summary":"Get Monthly Comparison","description":"Get monthly usage comparison: This year vs Last year.","operationId":"get_monthly_comparison_api_analytics_usage_comparison_monthly_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageComparisonResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reports/daily-summary":{"get":{"tags":["Reports"],"summary":"Get Daily Summary","description":"Get daily summary report - managers only.","operationId":"get_daily_summary_api_reports_daily_summary_get","parameters":[{"name":"period_days","in":"query","required":false,"schema":{"enum":[7,14,30],"type":"integer","default":7,"title":"Period Days"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DailySummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reports/supplier-quality":{"get":{"tags":["Reports"],"summary":"Get Supplier Quality","description":"Get supplier quality metrics - managers only.","operationId":"get_supplier_quality_api_reports_supplier_quality_get","parameters":[{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierQualityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reports/export/daily-summary":{"get":{"tags":["Reports"],"summary":"Export Daily Summary Csv","description":"Export daily summary as CSV data.","operationId":"export_daily_summary_csv_api_reports_export_daily_summary_get","parameters":[{"name":"period_days","in":"query","required":false,"schema":{"enum":[7,14,30],"type":"integer","default":7,"title":"Period Days"}},{"name":"view_location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Location ID to view (location_manager can view other shops read-only)","title":"View Location Id"},"description":"Location ID to view (location_manager can view other shops read-only)"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/zone/overview":{"get":{"tags":["Zone Overview"],"summary":"Get Zone Overview","description":"Get zone overview with all locations - managers only.","operationId":"get_zone_overview_api_zone_overview_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ZoneOverviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/zone/locations":{"get":{"tags":["Zone Overview"],"summary":"Get Zone Locations","description":"Get all locations in user's zone.","operationId":"get_zone_locations_api_zone_locations_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications":{"get":{"tags":["Notifications"],"summary":"Get Notifications","description":"Get user's notifications.","operationId":"get_notifications_api_notifications_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/{notification_id}/read":{"post":{"tags":["Notifications"],"summary":"Mark Notification Read","description":"Mark a notification as read.","operationId":"mark_notification_read_api_notifications__notification_id__read_post","parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","title":"Notification Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/read-all":{"post":{"tags":["Notifications"],"summary":"Mark All Notifications Read","description":"Mark all notifications as read.","operationId":"mark_all_notifications_read_api_notifications_read_all_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/unread-count":{"get":{"tags":["Notifications"],"summary":"Get Unread Count","description":"Get count of unread notifications.","operationId":"get_unread_count_api_notifications_unread_count_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings":{"get":{"tags":["Settings"],"summary":"Get Settings","description":"Get user settings and profile.","operationId":"get_settings_api_settings_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/profile":{"patch":{"tags":["Settings"],"summary":"Update Profile","description":"Update user profile.","operationId":"update_profile_api_settings_profile_patch","parameters":[{"name":"full_name","in":"query","required":false,"schema":{"type":"string","title":"Full Name"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/sync-status":{"get":{"tags":["Settings"],"summary":"Get Sync Status","description":"Get sync status (for offline support).","operationId":"get_sync_status_api_settings_sync_status_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/items":{"get":{"tags":["Reference Data"],"summary":"Get Items","description":"Get all items.","operationId":"get_items_api_reference_items_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/suppliers":{"get":{"tags":["Reference Data"],"summary":"Get Suppliers","description":"Get all suppliers.","operationId":"get_suppliers_api_reference_suppliers_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/locations":{"get":{"tags":["Reference Data"],"summary":"Get Locations","description":"Get all locations.","operationId":"get_locations_api_reference_locations_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/zones":{"get":{"tags":["Reference Data"],"summary":"Get Zones","description":"Get all zones.","operationId":"get_zones_api_reference_zones_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/locations-by-zone/{zone_id}":{"get":{"tags":["Reference Data"],"summary":"Get Locations By Zone","description":"Get locations in a specific zone.","operationId":"get_locations_by_zone_api_reference_locations_by_zone__zone_id__get","parameters":[{"name":"zone_id","in":"path","required":true,"schema":{"type":"string","title":"Zone Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reference/waste-reasons":{"get":{"tags":["Reference Data"],"summary":"Get Waste Reasons","description":"Get list of waste reasons (simplified - no expiry tracking for potatoes).","operationId":"get_waste_reasons_api_reference_waste_reasons_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/reference/quality-scores":{"get":{"tags":["Reference Data"],"summary":"Get Quality Scores","description":"Get quality score definitions.","operationId":"get_quality_scores_api_reference_quality_scores_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/owner-dashboard":{"get":{"tags":["Owner Dashboard"],"summary":"Get Owner Dashboard","description":"Get consolidated daily status for all shops - admin only.","operationId":"get_owner_dashboard_api_owner_dashboard_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OwnerDashboardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/adjustments":{"post":{"tags":["Inventory Adjustments"],"summary":"Create Adjustment","description":"Create inventory adjustment - managers only.\n\nSupports both positive (found stock) and negative (theft, count error) adjustments.","operationId":"create_adjustment_api_adjustments_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustmentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/adjustments/reasons":{"get":{"tags":["Inventory Adjustments"],"summary":"Get Adjustment Reasons","description":"Get list of valid adjustment reasons.","operationId":"get_adjustment_reasons_api_adjustments_reasons_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/batch-management/{batch_id}":{"patch":{"tags":["Batch Management"],"summary":"Edit Batch","description":"Edit batch details - managers only. All changes are tracked in edit history.","operationId":"edit_batch_api_batch_management__batch_id__patch","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchEditRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Batch Management"],"summary":"Get Batch Details","description":"Get full batch details including edit history summary.","operationId":"get_batch_details_api_batch_management__batch_id__get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-management/{batch_id}/history":{"get":{"tags":["Batch Management"],"summary":"Get Batch Edit History","description":"Get edit history for a batch - shows all changes with who made them.","operationId":"get_batch_edit_history_api_batch_management__batch_id__history_get","parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch-management/statuses/list":{"get":{"tags":["Batch Management"],"summary":"Get Batch Statuses","description":"Get list of valid batch statuses with descriptions.","operationId":"get_batch_statuses_api_batch_management_statuses_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/returns":{"post":{"tags":["Stock Returns"],"summary":"Return Stock","description":"Process stock return - returns to original batch or creates new batch.\n\nWhen creating a new batch from returns, it defaults to 'quarantine' status\nfor inspection before being made available.","operationId":"return_stock_api_returns_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReturnStockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/returns/recent":{"get":{"tags":["Stock Returns"],"summary":"Get Recent Returns","description":"Get recent return transactions.","operationId":"get_recent_returns_api_returns_recent_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vehicles":{"get":{"tags":["Vehicles"],"summary":"List Vehicles","description":"List all vehicles.","operationId":"list_vehicles_api_vehicles_get","parameters":[{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show active vehicles","default":true,"title":"Active Only"},"description":"Only show active vehicles"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Vehicles"],"summary":"Create Vehicle","description":"Create a new vehicle - managers only.","operationId":"create_vehicle_api_vehicles_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVehicleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vehicles/{vehicle_id}":{"get":{"tags":["Vehicles"],"summary":"Get Vehicle","description":"Get vehicle details.","operationId":"get_vehicle_api_vehicles__vehicle_id__get","parameters":[{"name":"vehicle_id","in":"path","required":true,"schema":{"type":"string","title":"Vehicle Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Vehicles"],"summary":"Update Vehicle","description":"Update vehicle details - managers only.","operationId":"update_vehicle_api_vehicles__vehicle_id__patch","parameters":[{"name":"vehicle_id","in":"path","required":true,"schema":{"type":"string","title":"Vehicle Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVehicleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Vehicles"],"summary":"Deactivate Vehicle","description":"Soft delete (deactivate) a vehicle - managers only.","operationId":"deactivate_vehicle_api_vehicles__vehicle_id__delete","parameters":[{"name":"vehicle_id","in":"path","required":true,"schema":{"type":"string","title":"Vehicle Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips":{"get":{"tags":["Trips"],"summary":"List Trips","description":"List trips with optional filters.","operationId":"list_trips_api_trips_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"vehicle_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by vehicle","title":"Vehicle Id"},"description":"Filter by vehicle"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"From date (YYYY-MM-DD)","title":"From Date"},"description":"From date (YYYY-MM-DD)"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"To date (YYYY-MM-DD)","title":"To Date"},"description":"To date (YYYY-MM-DD)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Trips"],"summary":"Create Trip","description":"Create a new trip - managers only.","operationId":"create_trip_api_trips_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTripRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/summary":{"get":{"tags":["Trips"],"summary":"Get Trip Summary","description":"Get cost summary for completed trips.","operationId":"get_trip_summary_api_trips_summary_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"From date (YYYY-MM-DD)","title":"From Date"},"description":"From date (YYYY-MM-DD)"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"To date (YYYY-MM-DD)","title":"To Date"},"description":"To date (YYYY-MM-DD)"},{"name":"vehicle_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by vehicle","title":"Vehicle Id"},"description":"Filter by vehicle"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}":{"get":{"tags":["Trips"],"summary":"Get Trip","description":"Get trip details.","operationId":"get_trip_api_trips__trip_id__get","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Trips"],"summary":"Update Trip","description":"Update trip details - managers only.","operationId":"update_trip_api_trips__trip_id__patch","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTripRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}/start":{"post":{"tags":["Trips"],"summary":"Start Trip","description":"Mark a trip as in progress with optional ETA - managers only.","operationId":"start_trip_api_trips__trip_id__start_post","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/StartTripRequest"},{"type":"null"}],"title":"Start Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}/complete":{"post":{"tags":["Trips"],"summary":"Complete Trip","description":"Complete a trip with final costs - managers only.\n\nFor simple trips (non multi-stop), this also creates a pending delivery\nthat needs to be confirmed by the receiving location.","operationId":"complete_trip_api_trips__trip_id__complete_post","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteTripRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}/cargo":{"get":{"tags":["Trips"],"summary":"Get Trip Cargo","description":"Get cargo details for a trip - all linked transactions and batches.","operationId":"get_trip_cargo_api_trips__trip_id__cargo_get","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}/cancel":{"post":{"tags":["Trips"],"summary":"Cancel Trip","description":"Cancel a trip - managers only.","operationId":"cancel_trip_api_trips__trip_id__cancel_post","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/multi-stop":{"post":{"tags":["Trips"],"summary":"Create Multi Stop Trip","description":"Create a multi-stop trip with multiple pickup/dropoff locations.","operationId":"create_multi_stop_trip_api_trips_multi_stop_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMultiStopTripRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/{trip_id}/stops":{"get":{"tags":["Trips"],"summary":"Get Trip Stops","description":"Get all stops for a trip.","operationId":"get_trip_stops_api_trips__trip_id__stops_get","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Trips"],"summary":"Add Stop To Trip","description":"Add a new stop to an existing multi-stop trip.","operationId":"add_stop_to_trip_api_trips__trip_id__stops_post","parameters":[{"name":"trip_id","in":"path","required":true,"schema":{"type":"string","title":"Trip Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Stop"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/stops/{stop_id}/arrive":{"post":{"tags":["Trips"],"summary":"Arrive At Stop","description":"Mark arrival at a stop.","operationId":"arrive_at_stop_api_trips_stops__stop_id__arrive_post","parameters":[{"name":"stop_id","in":"path","required":true,"schema":{"type":"string","title":"Stop Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trips/stops/{stop_id}/complete":{"post":{"tags":["Trips"],"summary":"Complete Stop","description":"Complete a stop (mark as done with actual quantities).","operationId":"complete_stop_api_trips_stops__stop_id__complete_post","parameters":[{"name":"stop_id","in":"path","required":true,"schema":{"type":"string","title":"Stop Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteStopRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers":{"get":{"tags":["Drivers"],"summary":"List Drivers","description":"List all drivers.","operationId":"list_drivers_api_drivers_get","parameters":[{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only return active drivers","default":true,"title":"Active Only"},"description":"Only return active drivers"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Drivers"],"summary":"Create Driver","description":"Create a new driver - managers only.","operationId":"create_driver_api_drivers_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDriverRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/{driver_id}":{"get":{"tags":["Drivers"],"summary":"Get Driver","description":"Get driver details.","operationId":"get_driver_api_drivers__driver_id__get","parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","title":"Driver Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Drivers"],"summary":"Update Driver","description":"Update driver details - managers only.","operationId":"update_driver_api_drivers__driver_id__patch","parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","title":"Driver Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDriverRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Drivers"],"summary":"Deactivate Driver","description":"Soft delete (deactivate) a driver - managers only.","operationId":"deactivate_driver_api_drivers__driver_id__delete","parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","title":"Driver Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/lookup":{"post":{"tags":["Barcode Scanning"],"summary":"Lookup Barcode","description":"Look up a barcode and return matching item(s).","operationId":"lookup_barcode_api_barcode_lookup_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BarcodeLookupRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions":{"post":{"tags":["Barcode Scanning"],"summary":"Create Scan Session","description":"Start a new barcode scanning session.","operationId":"create_scan_session_api_barcode_sessions_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScanSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Barcode Scanning"],"summary":"List Scan Sessions","description":"List scan sessions.","operationId":"list_scan_sessions_api_barcode_sessions_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions/{session_id}":{"get":{"tags":["Barcode Scanning"],"summary":"Get Scan Session","description":"Get scan session with all scans.","operationId":"get_scan_session_api_barcode_sessions__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions/{session_id}/scan":{"post":{"tags":["Barcode Scanning"],"summary":"Record Scan","description":"Record a barcode scan within a session.","operationId":"record_scan_api_barcode_sessions__session_id__scan_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordScanRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions/{session_id}/receive":{"post":{"tags":["Barcode Scanning"],"summary":"Bulk Receive From Session","description":"Convert confirmed scans into stock batches.","operationId":"bulk_receive_from_session_api_barcode_sessions__session_id__receive_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkReceiveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions/{session_id}/cancel":{"post":{"tags":["Barcode Scanning"],"summary":"Cancel Scan Session","description":"Cancel a scan session.","operationId":"cancel_scan_session_api_barcode_sessions__session_id__cancel_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/sessions/{session_id}/scans/{scan_id}":{"delete":{"tags":["Barcode Scanning"],"summary":"Delete Scan","description":"Delete a scan from a session.","operationId":"delete_scan_api_barcode_sessions__session_id__scans__scan_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"scan_id","in":"path","required":true,"schema":{"type":"string","title":"Scan Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/mappings":{"get":{"tags":["Barcode Scanning"],"summary":"List Barcode Mappings","description":"List barcode mappings.","operationId":"list_barcode_mappings_api_barcode_mappings_get","parameters":[{"name":"supplier_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"}},{"name":"item_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Barcode Scanning"],"summary":"Create Barcode Mapping","description":"Create a new barcode mapping.","operationId":"create_barcode_mapping_api_barcode_mappings_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBarcodeMappingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/barcode/mappings/{mapping_id}":{"patch":{"tags":["Barcode Scanning"],"summary":"Update Barcode Mapping","description":"Update a barcode mapping.","operationId":"update_barcode_mapping_api_barcode_mappings__mapping_id__patch","parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"string","title":"Mapping Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBarcodeMappingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Barcode Scanning"],"summary":"Delete Barcode Mapping","description":"Delete (deactivate) a barcode mapping.","operationId":"delete_barcode_mapping_api_barcode_mappings__mapping_id__delete","parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"string","title":"Mapping Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/demo/seed":{"post":{"tags":["Demo Data"],"summary":"Seed Demo Data","description":"Seed comprehensive demo data for all dashboard features.\nCreates 30 days of transaction history for realistic trends.","operationId":"seed_demo_data_api_demo_seed_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/demo/clear":{"delete":{"tags":["Demo Data"],"summary":"Clear Demo Data","description":"Clear all demo data (transactions with demo_data metadata).\nUse with caution!","operationId":"clear_demo_data_api_demo_clear_delete","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/demo/create-test-user":{"post":{"tags":["Demo Data"],"summary":"Create Test User","description":"Create a test location_manager user for testing read-only access to other shops.\n\nCreates:\n- Email: location.manager@test.com\n- Password: Test123!\n- Role: location_manager\n- Assigned to first available shop","operationId":"create_test_user_api_demo_create_test_user_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/demo/status":{"get":{"tags":["Demo Data"],"summary":"Get Demo Status","description":"Check current demo data status.","operationId":"get_demo_status_api_demo_status_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users":{"get":{"tags":["User Management"],"summary":"List Users","description":"List users with filtering. Zone managers see only users in their zone.","operationId":"list_users_api_users_get","parameters":[{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by role","title":"Role"},"description":"Filter by role"},{"name":"zone_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by zone","title":"Zone Id"},"description":"Filter by zone"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name or email","title":"Search"},"description":"Search by name or email"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}":{"get":{"tags":["User Management"],"summary":"Get User","description":"Get user details by profile ID.","operationId":"get_user_api_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["User Management"],"summary":"Update User","description":"Update user profile. Zone managers can only update users in their zone.","operationId":"update_user_api_users__user_id__patch","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/deactivate":{"post":{"tags":["User Management"],"summary":"Deactivate User","description":"Deactivate a user account. Admin only.","operationId":"deactivate_user_api_users__user_id__deactivate_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/activate":{"post":{"tags":["User Management"],"summary":"Activate User","description":"Reactivate a user account. Admin only.","operationId":"activate_user_api_users__user_id__activate_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/{user_id}/reset-password":{"post":{"tags":["User Management"],"summary":"Admin Reset Password","description":"Admin-initiated password reset. Sends reset email to user.","operationId":"admin_reset_password_api_users__user_id__reset_password_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invitations":{"get":{"tags":["User Invitations"],"summary":"List Invitations","description":"List invitations. Zone managers see only invitations they created or for their zone.","operationId":"list_invitations_api_invitations_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter: pending, accepted, expired, all","default":"pending","title":"Status"},"description":"Filter: pending, accepted, expired, all"},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["User Invitations"],"summary":"Create Invitation","description":"Create a new user invitation.","operationId":"create_invitation_api_invitations_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateInvitationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invitations/{invitation_id}":{"delete":{"tags":["User Invitations"],"summary":"Cancel Invitation","description":"Cancel a pending invitation.","operationId":"cancel_invitation_api_invitations__invitation_id__delete","parameters":[{"name":"invitation_id","in":"path","required":true,"schema":{"type":"string","title":"Invitation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invitations/{invitation_id}/resend":{"post":{"tags":["User Invitations"],"summary":"Resend Invitation","description":"Resend an invitation with a new token and expiry.","operationId":"resend_invitation_api_invitations__invitation_id__resend_post","parameters":[{"name":"invitation_id","in":"path","required":true,"schema":{"type":"string","title":"Invitation Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests":{"get":{"tags":["Stock Requests"],"summary":"List Stock Requests","description":"List stock requests. Managers see all, staff see their location only.","operationId":"list_stock_requests_api_stock_requests_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by location","title":"Location Id"},"description":"Filter by location"},{"name":"urgency","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by urgency","title":"Urgency"},"description":"Filter by urgency"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Stock Requests"],"summary":"Create Stock Request","description":"Create a new stock replenishment request.","operationId":"create_stock_request_api_stock_requests_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateStockRequestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/available":{"get":{"tags":["Stock Requests"],"summary":"List Available Requests","description":"List available (pending) stock requests for drivers to accept.","operationId":"list_available_requests_api_stock_requests_available_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/{request_id}":{"get":{"tags":["Stock Requests"],"summary":"Get Stock Request","description":"Get a specific stock request.","operationId":"get_stock_request_api_stock_requests__request_id__get","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Stock Requests"],"summary":"Update Stock Request","description":"Update a pending or accepted stock request (before trip is created).\n\nAllowed updates: quantity_bags, urgency, notes\nOnly requester or managers can modify.\nNotifies all drivers if quantity/urgency changes.","operationId":"update_stock_request_api_stock_requests__request_id__patch","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStockRequestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/{request_id}/accept":{"post":{"tags":["Stock Requests"],"summary":"Accept Stock Request","description":"Accept a pending stock request (driver action).","operationId":"accept_stock_request_api_stock_requests__request_id__accept_post","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/{request_id}/create-trip":{"post":{"tags":["Stock Requests"],"summary":"Create Trip From Request","description":"Create a trip to fulfill a stock request.","operationId":"create_trip_from_request_api_stock_requests__request_id__create_trip_post","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTripFromRequestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/create-multi-trip":{"post":{"tags":["Stock Requests"],"summary":"Create Trip From Multiple Requests","description":"Create a multi-stop trip to fulfill multiple stock requests.\n\nThis allows a driver to:\n1. Accept multiple stock requests from different shops\n2. Pick up from ONE supplier\n3. Deliver to multiple shops in one trip","operationId":"create_trip_from_multiple_requests_api_stock_requests_create_multi_trip_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTripFromMultipleRequestsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/{request_id}/cancel":{"post":{"tags":["Stock Requests"],"summary":"Cancel Stock Request","description":"Cancel a stock request with a reason. Notifies driver if request was accepted.","operationId":"cancel_stock_request_api_stock_requests__request_id__cancel_post","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelStockRequestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/my/requests":{"get":{"tags":["Stock Requests"],"summary":"Get My Requests","description":"Get requests created by or accepted by the current user.","operationId":"get_my_requests_api_stock_requests_my_requests_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stock-requests/{request_id}/fulfill-remaining":{"post":{"tags":["Stock Requests"],"summary":"Fulfill Remaining Request","description":"Create a new trip to fulfill the remaining quantity of a partially fulfilled request.\n\nOnly available for requests with status 'partially_fulfilled'.","operationId":"fulfill_remaining_request_api_stock_requests__request_id__fulfill_remaining_post","parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FulfillRemainingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pending-deliveries":{"get":{"tags":["Pending Deliveries"],"summary":"List Pending Deliveries","description":"List pending deliveries. Filters by user's location if not admin/zone_manager.","operationId":"list_pending_deliveries_api_pending_deliveries_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by location","title":"Location Id"},"description":"Filter by location"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pending-deliveries/pending":{"get":{"tags":["Pending Deliveries"],"summary":"List Pending Only","description":"Get only pending (unconfirmed) deliveries for the user's location.","operationId":"list_pending_only_api_pending_deliveries_pending_get","parameters":[{"name":"location_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pending-deliveries/{delivery_id}":{"get":{"tags":["Pending Deliveries"],"summary":"Get Pending Delivery","description":"Get a specific pending delivery.","operationId":"get_pending_delivery_api_pending_deliveries__delivery_id__get","parameters":[{"name":"delivery_id","in":"path","required":true,"schema":{"type":"string","title":"Delivery Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pending-deliveries/{delivery_id}/confirm":{"post":{"tags":["Pending Deliveries"],"summary":"Confirm Delivery","description":"Confirm a pending delivery and create stock batch.","operationId":"confirm_delivery_api_pending_deliveries__delivery_id__confirm_post","parameters":[{"name":"delivery_id","in":"path","required":true,"schema":{"type":"string","title":"Delivery Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmDeliveryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pending-deliveries/{delivery_id}/reject":{"post":{"tags":["Pending Deliveries"],"summary":"Reject Delivery","description":"Reject a pending delivery.","operationId":"reject_delivery_api_pending_deliveries__delivery_id__reject_post","parameters":[{"name":"delivery_id","in":"path","required":true,"schema":{"type":"string","title":"Delivery Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectDeliveryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AcceptInviteRequest":{"properties":{"token":{"type":"string","title":"Token"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["token","password"],"title":"AcceptInviteRequest"},"AcknowledgeAlertRequest":{"properties":{"alert_type":{"type":"string","enum":["low_stock","reorder_now","expiring_soon","expired"],"title":"Alert Type"},"location_id":{"type":"string","title":"Location Id"},"item_id":{"type":"string","title":"Item Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["alert_type","location_id","item_id"],"title":"AcknowledgeAlertRequest"},"AdjustmentRequest":{"properties":{"item_id":{"type":"string","title":"Item Id"},"quantity":{"type":"number","title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"reason":{"type":"string","enum":["count_error","theft","found_stock","damage_write_off","system_correction","other"],"title":"Reason"},"batch_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Id"},"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["item_id","quantity","reason"],"title":"AdjustmentRequest"},"AlertItem":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type"},"severity":{"type":"string","title":"Severity"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"item_id":{"type":"string","title":"Item Id"},"item_name":{"type":"string","title":"Item Name"},"location_id":{"type":"string","title":"Location Id"},"location_name":{"type":"string","title":"Location Name"},"data":{"type":"object","title":"Data"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","type","severity","title","message","item_id","item_name","location_id","location_name","data","created_at"],"title":"AlertItem"},"AlertSummary":{"properties":{"low_stock_count":{"type":"integer","title":"Low Stock Count"},"reorder_now_count":{"type":"integer","title":"Reorder Now Count"},"expiring_soon_count":{"type":"integer","title":"Expiring Soon Count"}},"type":"object","required":["low_stock_count","reorder_now_count","expiring_soon_count"],"title":"AlertSummary"},"AlertsResponse":{"properties":{"summary":{"$ref":"#/components/schemas/AlertSummary"},"active_alerts":{"items":{"$ref":"#/components/schemas/AlertItem"},"type":"array","title":"Active Alerts"},"recently_acknowledged":{"items":{"$ref":"#/components/schemas/AlertItem"},"type":"array","title":"Recently Acknowledged"}},"type":"object","required":["summary","active_alerts","recently_acknowledged"],"title":"AlertsResponse"},"AnalyticsResponse":{"properties":{"summary":{"$ref":"#/components/schemas/AnalyticsSummary"},"daily_usage":{"items":{"$ref":"#/components/schemas/DailyUsagePoint"},"type":"array","title":"Daily Usage"},"hourly_pattern":{"items":{"$ref":"#/components/schemas/HourlyUsagePoint"},"type":"array","title":"Hourly Pattern"},"transaction_breakdown":{"items":{"$ref":"#/components/schemas/TransactionBreakdownPoint"},"type":"array","title":"Transaction Breakdown","default":[]},"waste_analysis":{"anyOf":[{"$ref":"#/components/schemas/WasteSummary"},{"type":"null"}]},"peak_day":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Peak Day"},"peak_day_bags":{"type":"integer","title":"Peak Day Bags","default":0}},"type":"object","required":["summary","daily_usage","hourly_pattern"],"title":"AnalyticsResponse"},"AnalyticsSummary":{"properties":{"total_bags_7_days":{"type":"integer","title":"Total Bags 7 Days"},"daily_average":{"type":"number","title":"Daily Average"},"trend_pct":{"type":"number","title":"Trend Pct"},"trend_direction":{"type":"string","title":"Trend Direction"}},"type":"object","required":["total_bags_7_days","daily_average","trend_pct","trend_direction"],"title":"AnalyticsSummary"},"AuthStatusResponse":{"properties":{"authenticated":{"type":"boolean","title":"Authenticated"},"user":{"anyOf":[{"$ref":"#/components/schemas/UserProfile"},{"type":"null"}]}},"type":"object","required":["authenticated"],"title":"AuthStatusResponse"},"BarcodeLookupRequest":{"properties":{"barcode":{"type":"string","maxLength":200,"minLength":1,"title":"Barcode"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"}},"type":"object","required":["barcode"],"title":"BarcodeLookupRequest"},"BatchEditRequest":{"properties":{"quality_score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quality Score"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"quality_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quality Notes"},"defect_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Defect Pct"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},"type":"object","title":"BatchEditRequest"},"BatchInfo":{"properties":{"id":{"type":"string","title":"Id"},"batch_id_display":{"type":"string","title":"Batch Id Display"},"supplier_name":{"type":"string","title":"Supplier Name"},"received_at":{"type":"string","title":"Received At"},"expiry_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expiry Date"},"initial_qty":{"type":"number","title":"Initial Qty"},"initial_qty_bags":{"type":"number","title":"Initial Qty Bags","default":0.0},"remaining_qty":{"type":"number","title":"Remaining Qty"},"remaining_qty_bags":{"type":"number","title":"Remaining Qty Bags","default":0.0},"quality_score":{"type":"integer","title":"Quality Score"},"defect_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Defect Pct"},"is_oldest":{"type":"boolean","title":"Is Oldest","default":false}},"type":"object","required":["id","batch_id_display","supplier_name","received_at","initial_qty","remaining_qty","quality_score"],"title":"BatchInfo"},"BulkReceiveRequest":{"properties":{"quality_score":{"type":"integer","maximum":3.0,"minimum":1.0,"title":"Quality Score","default":1},"defect_pct":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Defect Pct"},"quality_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quality Notes"},"expiry_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expiry Date"},"delivery_note_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delivery Note Number"},"cost_per_unit":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Cost Per Unit"},"auto_confirm_pending":{"type":"boolean","title":"Auto Confirm Pending","default":true}},"type":"object","title":"BulkReceiveRequest"},"CancelStockRequestRequest":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":1,"title":"Reason"}},"type":"object","required":["reason"],"title":"CancelStockRequestRequest"},"CompleteStopRequest":{"properties":{"actual_qty_kg":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Actual Qty Kg"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"CompleteStopRequest"},"CompleteTripRequest":{"properties":{"distance_km":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Distance Km"},"fuel_cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Fuel Cost"},"fuel_litres":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Fuel Litres"},"toll_cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Toll Cost"},"other_cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Other Cost"},"other_cost_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Other Cost Description"},"odometer_start":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Odometer Start"},"odometer_end":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Odometer End"},"arrival_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arrival Time"},"linked_batch_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Linked Batch Ids"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"CompleteTripRequest"},"ConfirmDeliveryRequest":{"properties":{"confirmed_qty_kg":{"type":"number","minimum":0.0,"title":"Confirmed Qty Kg"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"odometer_end":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Odometer End"}},"type":"object","required":["confirmed_qty_kg"],"title":"ConfirmDeliveryRequest"},"CreateBarcodeMappingRequest":{"properties":{"supplier_id":{"type":"string","title":"Supplier Id"},"item_id":{"type":"string","title":"Item Id"},"barcode_pattern":{"type":"string","maxLength":100,"minLength":1,"title":"Barcode Pattern"},"barcode_format":{"type":"string","title":"Barcode Format","default":"ean13"},"barcode_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Barcode Prefix"},"weight_embedded":{"type":"boolean","title":"Weight Embedded","default":false},"weight_start_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Weight Start Position"},"weight_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Weight Length"},"weight_decimal_places":{"type":"integer","title":"Weight Decimal Places","default":3},"default_quantity_kg":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Default Quantity Kg"},"default_bag_size":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Bag Size"},"variety_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variety Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["supplier_id","item_id","barcode_pattern"],"title":"CreateBarcodeMappingRequest"},"CreateDriverRequest":{"properties":{"full_name":{"type":"string","maxLength":200,"minLength":1,"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"license_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Number"},"license_expiry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Expiry"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["full_name"],"title":"CreateDriverRequest"},"CreateInvitationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"role":{"type":"string","pattern":"^(admin|zone_manager|location_manager|driver|staff)$","title":"Role"},"zone_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Id"},"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["email","role"],"title":"CreateInvitationRequest"},"CreateMultiStopTripRequest":{"properties":{"vehicle_id":{"type":"string","title":"Vehicle Id"},"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"driver_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Name"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"stops":{"items":{"$ref":"#/components/schemas/TripStopInput"},"type":"array","minItems":2,"title":"Stops"}},"type":"object","required":["vehicle_id","stops"],"title":"CreateMultiStopTripRequest"},"CreateScanSessionRequest":{"properties":{"location_id":{"type":"string","title":"Location Id"},"trip_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trip Id"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"},"session_type":{"type":"string","title":"Session Type","default":"receive"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["location_id"],"title":"CreateScanSessionRequest"},"CreateStockRequestRequest":{"properties":{"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"quantity_bags":{"type":"integer","exclusiveMinimum":0.0,"title":"Quantity Bags"},"urgency":{"type":"string","enum":["urgent","normal"],"title":"Urgency","default":"normal"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity_bags"],"title":"CreateStockRequestRequest"},"CreateTripFromMultipleRequestsRequest":{"properties":{"request_ids":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Request Ids","description":"List of stock request IDs to fulfill"},"vehicle_id":{"type":"string","title":"Vehicle Id"},"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"supplier_id":{"type":"string","title":"Supplier Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"auto_start":{"type":"boolean","title":"Auto Start","default":true},"estimated_arrival_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estimated Arrival Time"}},"type":"object","required":["request_ids","vehicle_id","supplier_id"],"title":"CreateTripFromMultipleRequestsRequest","description":"Create a multi-stop trip from multiple stock requests."},"CreateTripFromRequestRequest":{"properties":{"vehicle_id":{"type":"string","title":"Vehicle Id"},"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"supplier_id":{"type":"string","title":"Supplier Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"auto_start":{"type":"boolean","title":"Auto Start","default":true},"estimated_arrival_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estimated Arrival Time"},"odometer_start":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Odometer Start"}},"type":"object","required":["vehicle_id","supplier_id"],"title":"CreateTripFromRequestRequest"},"CreateTripRequest":{"properties":{"vehicle_id":{"type":"string","title":"Vehicle Id"},"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"driver_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Name"},"trip_type":{"anyOf":[{"type":"string","enum":["supplier_to_warehouse","supplier_to_shop","warehouse_to_shop","shop_to_shop","shop_to_warehouse","other"]},{"type":"null"}],"title":"Trip Type"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"},"from_location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Location Id"},"to_location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Location Id"},"origin_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Origin Description"},"destination_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Destination Description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["vehicle_id"],"title":"CreateTripRequest"},"CreateVehicleRequest":{"properties":{"registration_number":{"type":"string","title":"Registration Number"},"make":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Make"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"capacity_kg":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Capacity Kg"},"fuel_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fuel Type"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["registration_number"],"title":"CreateVehicleRequest"},"DailySummaryItem":{"properties":{"date":{"type":"string","title":"Date"},"received_kg":{"type":"number","title":"Received Kg"},"issued_kg":{"type":"number","title":"Issued Kg"},"wasted_kg":{"type":"number","title":"Wasted Kg"},"net_change":{"type":"number","title":"Net Change"}},"type":"object","required":["date","received_kg","issued_kg","wasted_kg","net_change"],"title":"DailySummaryItem"},"DailySummaryResponse":{"properties":{"period_totals":{"$ref":"#/components/schemas/PeriodTotals"},"daily_breakdown":{"items":{"$ref":"#/components/schemas/DailySummaryItem"},"type":"array","title":"Daily Breakdown"}},"type":"object","required":["period_totals","daily_breakdown"],"title":"DailySummaryResponse"},"DailyUsagePoint":{"properties":{"date":{"type":"string","title":"Date"},"bags_used":{"type":"integer","title":"Bags Used"},"kg_used":{"type":"number","title":"Kg Used"}},"type":"object","required":["date","bags_used","kg_used"],"title":"DailyUsagePoint"},"DashboardResponse":{"properties":{"stats":{"$ref":"#/components/schemas/DashboardStats"},"forecast":{"$ref":"#/components/schemas/ForecastData"},"stock_balance":{"items":{},"type":"array","title":"Stock Balance"}},"type":"object","required":["stats","forecast","stock_balance"],"title":"DashboardResponse"},"DashboardStats":{"properties":{"total_stock_kg":{"type":"number","title":"Total Stock Kg"},"total_stock_bags":{"type":"number","title":"Total Stock Bags","default":0.0},"received_today_kg":{"type":"number","title":"Received Today Kg"},"received_today_bags":{"type":"number","title":"Received Today Bags","default":0.0},"issued_today_kg":{"type":"number","title":"Issued Today Kg"},"issued_today_bags":{"type":"number","title":"Issued Today Bags","default":0.0},"wasted_today_kg":{"type":"number","title":"Wasted Today Kg"},"wasted_today_bags":{"type":"number","title":"Wasted Today Bags","default":0.0},"active_batches":{"type":"integer","title":"Active Batches"},"low_stock_alerts":{"type":"integer","title":"Low Stock Alerts"},"reorder_alerts":{"type":"integer","title":"Reorder Alerts"},"expiring_soon_alerts":{"type":"integer","title":"Expiring Soon Alerts"}},"type":"object","required":["total_stock_kg","received_today_kg","issued_today_kg","wasted_today_kg","active_batches","low_stock_alerts","reorder_alerts","expiring_soon_alerts"],"title":"DashboardStats"},"FIFOSuggestion":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"batch_id_display":{"type":"string","title":"Batch Id Display"},"received_at":{"type":"string","title":"Received At"},"remaining_qty":{"type":"number","title":"Remaining Qty"},"remaining_qty_bags":{"type":"number","title":"Remaining Qty Bags","default":0.0}},"type":"object","required":["batch_id","batch_id_display","received_at","remaining_qty"],"title":"FIFOSuggestion"},"ForecastData":{"properties":{"avg_daily_usage":{"type":"number","title":"Avg Daily Usage"},"avg_daily_usage_bags":{"type":"number","title":"Avg Daily Usage Bags","default":0.0},"days_of_cover":{"type":"number","title":"Days Of Cover"},"stock_out_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stock Out Date"},"reorder_by_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reorder By Date"},"lead_time_days":{"type":"integer","title":"Lead Time Days","default":1},"safety_stock_qty":{"type":"number","title":"Safety Stock Qty"},"safety_stock_qty_bags":{"type":"number","title":"Safety Stock Qty Bags","default":0.0},"reorder_point_qty":{"type":"number","title":"Reorder Point Qty"},"reorder_point_qty_bags":{"type":"number","title":"Reorder Point Qty Bags","default":0.0},"suggested_order_qty":{"type":"number","title":"Suggested Order Qty"},"suggested_order_qty_bags":{"type":"number","title":"Suggested Order Qty Bags","default":0.0}},"type":"object","required":["avg_daily_usage","days_of_cover","safety_stock_qty","reorder_point_qty","suggested_order_qty"],"title":"ForecastData"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest"},"FulfillRemainingRequest":{"properties":{"vehicle_id":{"type":"string","title":"Vehicle Id"},"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"supplier_id":{"type":"string","title":"Supplier Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["vehicle_id","supplier_id"],"title":"FulfillRemainingRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HourlyUsagePoint":{"properties":{"hour":{"type":"integer","title":"Hour"},"bags_used":{"type":"integer","title":"Bags Used"}},"type":"object","required":["hour","bags_used"],"title":"HourlyUsagePoint"},"IssueStockRequest":{"properties":{"item_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"},"quantity":{"type":"number","exclusiveMinimum":0.0,"title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity"],"title":"IssueStockRequest"},"LocationEfficiency":{"properties":{"location_id":{"type":"string","title":"Location Id"},"location_name":{"type":"string","title":"Location Name"},"location_type":{"type":"string","title":"Location Type"},"waste_rate_pct":{"type":"number","title":"Waste Rate Pct"},"usage_rate_pct":{"type":"number","title":"Usage Rate Pct"},"current_stock_kg":{"type":"number","title":"Current Stock Kg"},"current_stock_bags":{"type":"number","title":"Current Stock Bags"},"total_received_kg":{"type":"number","title":"Total Received Kg"},"total_issued_kg":{"type":"number","title":"Total Issued Kg"},"total_wasted_kg":{"type":"number","title":"Total Wasted Kg"},"efficiency_score":{"type":"number","title":"Efficiency Score"},"rank":{"type":"integer","title":"Rank"}},"type":"object","required":["location_id","location_name","location_type","waste_rate_pct","usage_rate_pct","current_stock_kg","current_stock_bags","total_received_kg","total_issued_kg","total_wasted_kg","efficiency_score","rank"],"title":"LocationEfficiency"},"LocationStatus":{"properties":{"location_id":{"type":"string","title":"Location Id"},"location_name":{"type":"string","title":"Location Name"},"location_type":{"type":"string","title":"Location Type"},"on_hand_qty":{"type":"number","title":"On Hand Qty"},"on_hand_bags":{"type":"number","title":"On Hand Bags","default":0.0},"days_of_cover":{"type":"number","title":"Days Of Cover"},"avg_daily_usage":{"type":"number","title":"Avg Daily Usage"},"avg_daily_usage_bags":{"type":"number","title":"Avg Daily Usage Bags","default":0.0},"status":{"type":"string","title":"Status"}},"type":"object","required":["location_id","location_name","location_type","on_hand_qty","days_of_cover","avg_daily_usage","status"],"title":"LocationStatus"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":6,"title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"user":{"$ref":"#/components/schemas/UserProfile"}},"type":"object","required":["access_token","refresh_token","user"],"title":"LoginResponse"},"NotificationItem":{"properties":{"id":{"type":"string","title":"Id"},"notification_type":{"type":"string","title":"Notification Type"},"title":{"type":"string","title":"Title"},"body":{"type":"string","title":"Body"},"is_read":{"type":"boolean","title":"Is Read"},"created_at":{"type":"string","title":"Created At"},"data":{"type":"object","title":"Data"}},"type":"object","required":["id","notification_type","title","body","is_read","created_at","data"],"title":"NotificationItem"},"NotificationsResponse":{"properties":{"notifications":{"items":{"$ref":"#/components/schemas/NotificationItem"},"type":"array","title":"Notifications"},"unread_count":{"type":"integer","title":"Unread Count"}},"type":"object","required":["notifications","unread_count"],"title":"NotificationsResponse"},"OwnerDashboardResponse":{"properties":{"generated_at":{"type":"string","title":"Generated At"},"date":{"type":"string","title":"Date"},"total_stock_bags":{"type":"number","title":"Total Stock Bags"},"total_stock_kg":{"type":"number","title":"Total Stock Kg"},"total_received_bags":{"type":"number","title":"Total Received Bags"},"total_issued_bags":{"type":"number","title":"Total Issued Bags"},"total_wasted_bags":{"type":"number","title":"Total Wasted Bags"},"total_alerts":{"type":"integer","title":"Total Alerts"},"shops":{"items":{"$ref":"#/components/schemas/ShopDailyStatus"},"type":"array","title":"Shops"},"warehouse":{"anyOf":[{"$ref":"#/components/schemas/ShopDailyStatus"},{"type":"null"}]},"issued_7d_kg":{"type":"number","title":"Issued 7D Kg","default":0},"issued_30d_kg":{"type":"number","title":"Issued 30D Kg","default":0},"wasted_7d_kg":{"type":"number","title":"Wasted 7D Kg","default":0},"wasted_30d_kg":{"type":"number","title":"Wasted 30D Kg","default":0},"avg_daily_usage_kg":{"type":"number","title":"Avg Daily Usage Kg","default":0},"waste_rate_7d_pct":{"type":"number","title":"Waste Rate 7D Pct","default":0},"waste_rate_30d_pct":{"type":"number","title":"Waste Rate 30D Pct","default":0},"usage_trend_direction":{"type":"string","title":"Usage Trend Direction","default":"stable"},"usage_trend_pct":{"type":"number","title":"Usage Trend Pct","default":0}},"type":"object","required":["generated_at","date","total_stock_bags","total_stock_kg","total_received_bags","total_issued_bags","total_wasted_bags","total_alerts","shops"],"title":"OwnerDashboardResponse"},"PeriodData":{"properties":{"label":{"type":"string","title":"Label"},"data":{"items":{},"type":"array","title":"Data"}},"type":"object","required":["label","data"],"title":"PeriodData"},"PeriodTotals":{"properties":{"total_received":{"type":"number","title":"Total Received"},"total_issued":{"type":"number","title":"Total Issued"},"total_wasted":{"type":"number","title":"Total Wasted"},"net_change":{"type":"number","title":"Net Change"}},"type":"object","required":["total_received","total_issued","total_wasted","net_change"],"title":"PeriodTotals"},"ReallocationSuggestion":{"properties":{"from_location_id":{"type":"string","title":"From Location Id"},"from_location_name":{"type":"string","title":"From Location Name"},"to_location_id":{"type":"string","title":"To Location Id"},"to_location_name":{"type":"string","title":"To Location Name"},"quantity":{"type":"number","title":"Quantity"},"quantity_bags":{"type":"number","title":"Quantity Bags","default":0.0},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["from_location_id","from_location_name","to_location_id","to_location_name","quantity","reason"],"title":"ReallocationSuggestion"},"ReceiveStockRequest":{"properties":{"item_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"},"quantity":{"type":"number","exclusiveMinimum":0.0,"title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"supplier_id":{"type":"string","title":"Supplier Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"}},"type":"object","required":["quantity","supplier_id"],"title":"ReceiveStockRequest"},"RecordScanRequest":{"properties":{"barcode":{"type":"string","maxLength":200,"minLength":1,"title":"Barcode"},"override_quantity_kg":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Override Quantity Kg"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["barcode"],"title":"RecordScanRequest"},"RejectDeliveryRequest":{"properties":{"reason":{"type":"string","title":"Reason"}},"type":"object","required":["reason"],"title":"RejectDeliveryRequest"},"ResetPasswordRequest":{"properties":{"token":{"type":"string","title":"Token"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["token","password"],"title":"ResetPasswordRequest"},"ReturnStockRequest":{"properties":{"item_id":{"type":"string","title":"Item Id"},"quantity":{"type":"number","exclusiveMinimum":0.0,"title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"batch_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Id"},"reason":{"type":"string","enum":["damaged_delivery","quality_issue","incorrect_order","expired_at_delivery","other"],"title":"Reason"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["item_id","quantity","reason"],"title":"ReturnStockRequest"},"ShopAlertSummary":{"properties":{"low_stock_count":{"type":"integer","title":"Low Stock Count"},"reorder_count":{"type":"integer","title":"Reorder Count"},"expiring_soon_count":{"type":"integer","title":"Expiring Soon Count"},"total_alerts":{"type":"integer","title":"Total Alerts"}},"type":"object","required":["low_stock_count","reorder_count","expiring_soon_count","total_alerts"],"title":"ShopAlertSummary"},"ShopDailyActivity":{"properties":{"received_bags":{"type":"number","title":"Received Bags"},"issued_bags":{"type":"number","title":"Issued Bags"},"wasted_bags":{"type":"number","title":"Wasted Bags"},"received_kg":{"type":"number","title":"Received Kg"},"issued_kg":{"type":"number","title":"Issued Kg"},"wasted_kg":{"type":"number","title":"Wasted Kg"}},"type":"object","required":["received_bags","issued_bags","wasted_bags","received_kg","issued_kg","wasted_kg"],"title":"ShopDailyActivity"},"ShopDailyStatus":{"properties":{"location_id":{"type":"string","title":"Location Id"},"location_name":{"type":"string","title":"Location Name"},"location_type":{"type":"string","title":"Location Type"},"total_stock_bags":{"type":"number","title":"Total Stock Bags"},"total_stock_kg":{"type":"number","title":"Total Stock Kg"},"activity":{"$ref":"#/components/schemas/ShopDailyActivity"},"alerts":{"$ref":"#/components/schemas/ShopAlertSummary"},"status":{"type":"string","title":"Status"}},"type":"object","required":["location_id","location_name","location_type","total_stock_bags","total_stock_kg","activity","alerts","status"],"title":"ShopDailyStatus"},"ShopEfficiencyResponse":{"properties":{"period_days":{"type":"integer","title":"Period Days"},"locations":{"items":{"$ref":"#/components/schemas/LocationEfficiency"},"type":"array","title":"Locations"},"best_performer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Best Performer"},"worst_performer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Worst Performer"},"avg_waste_rate":{"type":"number","title":"Avg Waste Rate"},"avg_usage_rate":{"type":"number","title":"Avg Usage Rate"}},"type":"object","required":["period_days","locations","avg_waste_rate","avg_usage_rate"],"title":"ShopEfficiencyResponse"},"StartTripRequest":{"properties":{"estimated_arrival_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estimated Arrival Time"}},"type":"object","title":"StartTripRequest"},"StockOverview":{"properties":{"item_id":{"type":"string","title":"Item Id"},"item_name":{"type":"string","title":"Item Name"},"sku":{"type":"string","title":"Sku"},"on_hand_qty":{"type":"number","title":"On Hand Qty"},"on_hand_bags":{"type":"number","title":"On Hand Bags","default":0.0},"unit":{"type":"string","title":"Unit"},"status":{"type":"string","title":"Status"},"active_batch_count":{"type":"integer","title":"Active Batch Count"}},"type":"object","required":["item_id","item_name","sku","on_hand_qty","unit","status","active_batch_count"],"title":"StockOverview"},"StockScreenResponse":{"properties":{"overview":{"items":{"$ref":"#/components/schemas/StockOverview"},"type":"array","title":"Overview"},"active_batches":{"items":{"$ref":"#/components/schemas/BatchInfo"},"type":"array","title":"Active Batches"},"fifo_suggestion":{"anyOf":[{"$ref":"#/components/schemas/FIFOSuggestion"},{"type":"null"}]}},"type":"object","required":["overview","active_batches"],"title":"StockScreenResponse"},"SupplierQualityItem":{"properties":{"supplier_id":{"type":"string","title":"Supplier Id"},"supplier_name":{"type":"string","title":"Supplier Name"},"delivery_count":{"type":"integer","title":"Delivery Count"},"avg_quality_score":{"type":"number","title":"Avg Quality Score"},"avg_defect_pct":{"type":"number","title":"Avg Defect Pct"},"quality_trend":{"type":"string","title":"Quality Trend"},"needs_review":{"type":"boolean","title":"Needs Review"},"quality_breakdown":{"type":"object","title":"Quality Breakdown"}},"type":"object","required":["supplier_id","supplier_name","delivery_count","avg_quality_score","avg_defect_pct","quality_trend","needs_review","quality_breakdown"],"title":"SupplierQualityItem"},"SupplierQualityResponse":{"properties":{"suppliers":{"items":{"$ref":"#/components/schemas/SupplierQualityItem"},"type":"array","title":"Suppliers"}},"type":"object","required":["suppliers"],"title":"SupplierQualityResponse"},"TransactionBreakdownPoint":{"properties":{"date":{"type":"string","title":"Date"},"received_kg":{"type":"number","title":"Received Kg"},"received_bags":{"type":"number","title":"Received Bags"},"issued_kg":{"type":"number","title":"Issued Kg"},"issued_bags":{"type":"number","title":"Issued Bags"},"wasted_kg":{"type":"number","title":"Wasted Kg"},"wasted_bags":{"type":"number","title":"Wasted Bags"}},"type":"object","required":["date","received_kg","received_bags","issued_kg","issued_bags","wasted_kg","wasted_bags"],"title":"TransactionBreakdownPoint"},"TransactionItem":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type"},"created_at":{"type":"string","title":"Created At"},"quantity":{"type":"number","title":"Quantity"},"unit":{"type":"string","title":"Unit"},"item_name":{"type":"string","title":"Item Name"},"batch_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"location_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location From"},"location_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location To"},"created_by_name":{"type":"string","title":"Created By Name"}},"type":"object","required":["id","type","created_at","quantity","unit","item_name","created_by_name"],"title":"TransactionItem"},"TransactionsResponse":{"properties":{"transactions":{"items":{"$ref":"#/components/schemas/TransactionItem"},"type":"array","title":"Transactions"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["transactions","total"],"title":"TransactionsResponse"},"TransferStockRequest":{"properties":{"item_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"},"quantity":{"type":"number","exclusiveMinimum":0.0,"title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"from_location_id":{"type":"string","title":"From Location Id"},"to_location_id":{"type":"string","title":"To Location Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity","from_location_id","to_location_id"],"title":"TransferStockRequest"},"TripStopInput":{"properties":{"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"},"stop_type":{"type":"string","enum":["pickup","dropoff"],"title":"Stop Type"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"planned_qty_kg":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Planned Qty Kg"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["stop_type"],"title":"TripStopInput"},"UpdateBarcodeMappingRequest":{"properties":{"barcode_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Barcode Pattern"},"barcode_format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Barcode Format"},"barcode_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Barcode Prefix"},"weight_embedded":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Weight Embedded"},"weight_start_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Weight Start Position"},"weight_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Weight Length"},"weight_decimal_places":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Weight Decimal Places"},"default_quantity_kg":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Default Quantity Kg"},"default_bag_size":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Bag Size"},"variety_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variety Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateBarcodeMappingRequest"},"UpdateDriverRequest":{"properties":{"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"license_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Number"},"license_expiry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Expiry"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateDriverRequest"},"UpdateStockRequestRequest":{"properties":{"quantity_bags":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Quantity Bags"},"urgency":{"anyOf":[{"type":"string","enum":["urgent","normal"]},{"type":"null"}],"title":"Urgency"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"UpdateStockRequestRequest"},"UpdateTripRequest":{"properties":{"driver_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Id"},"driver_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Driver Name"},"origin_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Origin Description"},"destination_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Destination Description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"trip_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trip Type"},"from_location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Location Id"},"to_location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Location Id"},"supplier_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplier Id"}},"type":"object","title":"UpdateTripRequest"},"UpdateUserRequest":{"properties":{"role":{"anyOf":[{"type":"string","pattern":"^(admin|zone_manager|location_manager|driver|staff)$"},{"type":"null"}],"title":"Role"},"zone_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Id"},"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","title":"UpdateUserRequest"},"UpdateVehicleRequest":{"properties":{"registration_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registration Number"},"make":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Make"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"capacity_kg":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Capacity Kg"},"fuel_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fuel Type"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"UpdateVehicleRequest"},"UsageComparisonResponse":{"properties":{"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"},"chart_type":{"type":"string","title":"Chart Type"},"periods":{"items":{"$ref":"#/components/schemas/PeriodData"},"type":"array","title":"Periods"}},"type":"object","required":["chart_type","periods"],"title":"UsageComparisonResponse"},"UserProfile":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role"},"zone_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Id"},"location_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Id"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"zone_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Zone Name"},"location_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Name"}},"type":"object","required":["id","user_id","email","role"],"title":"UserProfile"},"UserSettingsResponse":{"properties":{"profile":{"$ref":"#/components/schemas/UserProfile"},"preferences":{"type":"object","title":"Preferences"}},"type":"object","required":["profile","preferences"],"title":"UserSettingsResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WasteBreakdownItem":{"properties":{"reason":{"type":"string","title":"Reason"},"qty_kg":{"type":"number","title":"Qty Kg"},"qty_bags":{"type":"number","title":"Qty Bags"},"percentage":{"type":"number","title":"Percentage"},"display_name":{"type":"string","title":"Display Name"}},"type":"object","required":["reason","qty_kg","qty_bags","percentage","display_name"],"title":"WasteBreakdownItem"},"WasteStockRequest":{"properties":{"item_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Id"},"quantity":{"type":"number","exclusiveMinimum":0.0,"title":"Quantity"},"unit":{"type":"string","enum":["kg","bag"],"title":"Unit","default":"kg"},"reason":{"type":"string","enum":["spoiled","damaged","trim_prep_loss","contaminated","other"],"title":"Reason"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity","reason"],"title":"WasteStockRequest"},"WasteSummary":{"properties":{"total_wasted_kg":{"type":"number","title":"Total Wasted Kg"},"total_wasted_bags":{"type":"number","title":"Total Wasted Bags"},"total_received_kg":{"type":"number","title":"Total Received Kg"},"waste_rate_pct":{"type":"number","title":"Waste Rate Pct"},"breakdown":{"items":{"$ref":"#/components/schemas/WasteBreakdownItem"},"type":"array","title":"Breakdown"}},"type":"object","required":["total_wasted_kg","total_wasted_bags","total_received_kg","waste_rate_pct","breakdown"],"title":"WasteSummary"},"ZoneOverviewResponse":{"properties":{"zone_id":{"type":"string","title":"Zone Id"},"zone_name":{"type":"string","title":"Zone Name"},"total_kg":{"type":"number","title":"Total Kg"},"total_bags":{"type":"number","title":"Total Bags","default":0.0},"shop_count":{"type":"integer","title":"Shop Count"},"low_stock_count":{"type":"integer","title":"Low Stock Count"},"warehouse":{"anyOf":[{"$ref":"#/components/schemas/LocationStatus"},{"type":"null"}]},"shops":{"items":{"$ref":"#/components/schemas/LocationStatus"},"type":"array","title":"Shops"},"reallocation_suggestions":{"items":{"$ref":"#/components/schemas/ReallocationSuggestion"},"type":"array","title":"Reallocation Suggestions"}},"type":"object","required":["zone_id","zone_name","total_kg","shop_count","low_stock_count","shops","reallocation_suggestions"],"title":"ZoneOverviewResponse"}}}}